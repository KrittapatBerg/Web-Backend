@page
@model AppGoodFriendsRazor.Pages.Edit.ViewFriendPetQuoteModel
@{
    ViewData["Title"] = "View and Edit details of a friend including address, pets, and quotes";
}
@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers
@attribute [IgnoreAntiforgeryToken]

<a href="javascript:window.history.back()" class="text-decoration-none">
    <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" fill="currentColor" class="bi bi-arrow-left bi-2x" viewBox="0 0 16 16">
        <path fill-rule="evenodd" d="M5.354 11.354a.5.5 0 0 1 0-.708L2.707 8.5l2.647-2.646a.5.5 0 0 1 .708.708L4.207 8.5l1.854 1.854a.5.5 0 0 1-.708.708z" />
        <path fill-rule="evenodd" d="M3 8.5a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3.5a.5.5 0 0 1-.5-.5z" />
    </svg>
</a>

<div class="container px-4 py-4" id="view-friend-pet-quote">
    <h2 class="pb-2 border-bottom">View details of a friend</h2>
    <p>Below you find all the details of my friend. You can also modify the pets my friend has and the quotes he/she likes.</p>

    <div class="row row-cols-1 row-cols-lg-4 align-items-stretch g-4 py-5">
        <div class="col-md-7 col-lg-8">
            <form class="needs-validation" novalidate>
                <div class="row g-3">
                    
                    <!-- Hidden fields used to bind input model -->
                    <input asp-for="FriendInput.FriendId" type="hidden" />
                    <input asp-for="FriendInput.StatusIM" type="hidden" />
                    <input asp-for="FriendInput.Address.AddressId" type="hidden" />
                    <input asp-for="FriendInput.Address.StatusIM" type="hidden" />



                    <div class="col-sm-6">
                        <label for="firstname" class="form-label">First name</label>
                        <input type="text" class="form-control" id="firstname" asp-for="FriendInput.FirstName"> 
                        <span asp-validation-for="FriendInput.FirstName" class="invalid-feedback"></span>
                    </div>

                    <div class="col-sm-6">
                        <label for="lastname" class="form-label">Last name</label>
                        <input type="text" class="form-control" id="lastname" asp-for="FriendInput.LastName">
                        <span asp-validation-for="FriendInput.LastName" class="invalid-feedback"></span>
                    </div>

                    <div class="col-sm-6">
                        <label for="email" class="form-label">Email</label>
                        <input type="email" class="form-control" id="email" asp-for="FriendInput.Email">
                        <span asp-validation-for="FriendInput.Email" class="invalid-feedback"></span>

                    </div>

                    <div class="row g-3 visible">
                        <div class="col-sm-6 mb-3 ">
                            <label for="FriendInput.Address.StreetAddress" class="form-label mb-0">Street Address</label>
                            <input type="text" class="form-control" id="FriendInput.Address.StreetAddress" asp-for="FriendInput.Address.StreetAddress" placeholder="Input has no address">
                            <span asp-validation-for="FriendInput.Address.StreetAddress" class="invalid-feedback"></span>
                        </div>

                        <div class="col-sm-6 mb-3">
                            <label for="FriendInput.Address.ZipCode" class="form-label mb-0">Zip Code</label>
                            <input type="number" class="form-control mb-1" id="FriendInput.Address.ZipCode" asp-for="FriendInput.Address.ZipCode" placeholder="Input has no address">
                            <span asp-validation-for="FriendInput.Address.ZipCode" class="invalid-feedback"></span>
                        </div>

                        <div class="col-sm-6 mb-1">
                            <label for="FriendInput.Address.City" class="form-label mb-0">City</label>
                            <input type="text" class="form-control" id="FriendInput.Address.City" asp-for="FriendInput.Address.City" placeholder="Input has no address">
                            <span asp-validation-for="FriendInput.Address.City" class="invalid-feedback"></span>
                        </div>

                        <div class="col-sm-6">
                            <label for="FriendInput.Address.Country" class="form-label mb-0">Country</label>
                            <input type="text" class="form-control" id="FriendInput.Address.Country" asp-for="FriendInput.Address.Country" placeholder="Input has no address">
                            <span asp-validation-for="FriendInput.Address.Country" class="invalid-feedback"></span>
                        </div>
                    </div>
                </div>

                

                <div class="col-12 d-flex justify-content-center me-5 mt-5">
                    <button class="btn btn-success mx-2 mt-3 btn-lg h6" type="submit" asp-page-handler="Save">Save</button>
                    <button class="btn btn-light mx-2 mt-3 btn-lg h6" type="submit" asp-page-handler="Undo">Cancel</button>
                </div>
            </form>
        </div>


        <div class="col-md-7 col-lg-8">
            <h3 class="pb-2">
                My friend's pets
                <a href="~/Edit/AddEditPet" class="btn btn-success btn-sm" type="button">Add</a>
            </h3>
            <div class="row mb-2 text-center">
                @foreach (var pet in Model.FriendInput.Pets)
                {
                    <div class="col-md-10 themed-grid-col">
                        <span class="form-control">@pet.Name the @pet.Mood @pet.Kind </span>
                    </div>

                    <div class="col-md-2 themed-grid-col">
                        <a href="~/Edit/AddEditPet?id=@pet.PetId" class="btn btn-secondary btn-sm" type="button">Edit</a>
                    </div>
                }
            </div>
        </div>
     

        <div class="col-md-7 col-lg-8">
            <h3 class="pb-2">
                My friend's favorite quotes
                <a href="~/Edit/AddEditQuote" class="btn btn-success btn-sm" type="button">Add</a>
            </h3>
            <div class="row mb-2 text-center">
                @foreach (var quote in Model.FriendInput.Quotes)
                {
                    <div class="col-md-10 themed-grid-col">
                        <span class="form-control">@quote.Quote 
                            <div class="col-md-16 text-end"><b>@quote.Author </b></div>
                        </span>
                    </div>
                
                    <div class="col-md-2 themed-grid-col">
                        <a href="~/Edit/AddEditQuote?id=@quote.QuoteId" class="btn btn-secondary btn-sm" type="button">Edit</a>
                    </div>
                }
            </div>
        </div>
    </div>
</div>